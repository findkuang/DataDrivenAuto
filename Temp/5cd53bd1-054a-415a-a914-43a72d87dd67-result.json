{"name": "个人档案新增", "status": "failed", "statusDetails": {"message": "AssertionError: json1 或者 json2数据为空", "trace": "case = {'body': {'formJsonStr': '{\"liveAddress\":{\"city\":\"216449\",\"county\":\"218534\",\"province\":\"191019\",\"town\":\"218535\",\"villa...档案新增', 'conditions': {'idcard_number': '331022193611086982'}, 'expected_rst': '{\"IdcardNb\":\"331022193611086982\"}', ...}\n\n    @pytest.mark.parametrize('case', interface_list_submitType)\n    def test_interface_submit(case):\n        '''\n        接口-提交类型用例数据驱动模板\n        :param case:\n        :return:\n        '''\n        uri = case['uri']\n        body = case['body']\n        conditions = case['conditions']\n        send_method = case['send_method']\n        sql_path = case['sql_path']\n        yml_path = case['yml_path']\n        expected_rst = case['expected_rst']\n        # 制作测试报告\n        allure.dynamic.feature(case['module'])\n        allure.dynamic.story(case['sub_module'])\n        allure.dynamic.title(case['case_name'])\n        #调用提交类型接口\n        submit_data_and_verify(USER_INFO['xtest01']['username'], USER_INFO['xtest01']['password'], uri, body, expected_rst,\n>                              sql_path, yml_path, send_method, setUp=None, query=conditions)\n\nCases\\TestModel.py:76: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\nMiddle\\SubmitMiddle.py:68: in submit_data_and_verify\n    compare_data(expected_rst, fm_db_rst)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\njson1 = {}\njson2 = {'IdcardNb': '331022193611086982', 'Name': '张平', 'residenterId': '7aa3cdc9654311ebb7ef00163e16b97a'}\n\n    def compare_data(json1, json2):\n        '''\n        数据对比\n        :param json1: 数据1\n        :param json2: 数据2\n        :return:\n        '''\n        # 将str转dict\n        if isinstance(json1, str):\n            json1 = json.loads(json1)\n        if isinstance(json2, str):\n            json2 = json.loads(json2)\n    \n        if type(json1) == type(json2):\n            if json1 == {} or json2 == {}:\n                logger('【结果比对失败】').error('json1 或者 json2数据为空')\n>               raise AssertionError('json1 或者 json2数据为空')\nE               AssertionError: json1 或者 json2数据为空\n\nUtils\\CompareData.py:28: AssertionError"}, "description": "\n    接口-提交类型用例数据驱动模板\n    :param case:\n    :return:\n    ", "attachments": [{"name": "log", "source": "23778ae9-5ade-4439-9b00-3ad4e77a7b8d-attachment.txt", "type": "text/plain"}], "parameters": [{"name": "case", "value": "{'module': '档案管理', 'sub_module': '个人档案', 'case_name': '个人档案新增', 'interface_type': 1.0, 'uri': '/app-publichealth/personal/addNewBaseInfo', 'send_method': 'POST', 'body': {'formJsonStr': '{\"liveAddress\":{\"city\":\"216449\",\"county\":\"218534\",\"province\":\"191019\",\"town\":\"218535\",\"village\":\"218536\",\"deep\":0,\"value\":\"218536\",\"label\":\"妙山社区\",\"code\":\"331023001040\",\"detailAddress\":\"现住址1\"},\"residenceAddress\":{\"city\":\"216449\",\"county\":\"218534\",\"province\":\"191019\",\"town\":\"218837\",\"village\":\"218844\",\"deep\":0,\"value\":\"218844\",\"label\":\"下洋潘村委会\",\"code\":\"331023105206\",\"detailAddress\":\"户籍地址1\"},\"mgrOrgCode\":\"1\",\"docOrgCode\":\"1\",\"inputOrgCode\":\"1\",\"inputOrgName\":\"浙江大学医学院附属第一医院\",\"responsibleDoctorId\":\"10165\",\"archivingDoctorId\":\"10165\",\"archivingDate\":\"2007-12-28\",\"inputDoctorId\":\"10165\",\"inputDoctorName\":\"VV\",\"inputDate\":\"2007-12-28\",\"nation\":\"GB/T3304.01\",\"gender\":\"GB/T2261.1.1\",\"isHouseholderReg\":\"1\",\"hasOperations\":[\"0\"],\"hasTraumatisms\":[\"0\"],\"hasTransfusions\":[\"0\"],\"allergySource\":[{\"value\":0,\"isReserveState\":true}],\"exposureHistory\":[{\"value\":0,\"isReserveState\":true}],\"diseases\":[{\"value\":\"FH0369.01\",\"isReserveState\":true,\"diagnosisTime\":\"\"}],\"fatherDiseases\":[{\"value\":\"FH0369.01\",\"isReserveState\":true}],\"motherDiseases\":[{\"value\":\"FH0369.01\",\"isReserveState\":true}],\"childrenDiseases\":[{\"value\":\"FH0369.01\",\"isReserveState\":true}],\"siblingDiseases\":[{\"value\":\"FH0369.01\",\"isReserveState\":true}],\"geneticDiseases\":[{\"value\":0,\"isReserveState\":true}],\"disabilityDiseases\":[{\"value\":\"FH0370.01\",\"isReserveState\":true}],\"lifeEnvKitchenVentList\":[{\"value\":0}],\"lifeEnvFuelTypeList\":[{\"value\":0}],\"lifeEnvWaterList\":[{\"value\":0}],\"lifeEnvWcList\":[{\"value\":0}],\"lifeEnvAnimalList\":[{\"value\":0}],\"gridId\":\"3310\",\"educationLevel\":\"FH0388.02\",\"aboBloodType\":\"CV04.50.005.01\",\"rhBloodType\":\"CV04.50.020.02\",\"maritalStatus\":\"GB/T2261.2.10\",\"careerCate\":\"FH0386.05\",\"hisPayFeeType\":\"FH0368.02\",\"recordDetailCategory\":\"addNew\",\"name\":\"张平\",\"birthday\":\"1990-03-07\",\"idcardNumber\":\"331022193611086982\",\"phone\":\"18886256859\",\"workplace\":\"工作单位1\",\"contactsName\":\"张平\",\"contactsPhone\":\"18886256859\",\"idcardType\":\"FH0066.01\",\"qcResult\":[]}'}, 'sql_path': 'D:\\\\AutoTestFiles\\\\SQL\\\\个人档案新增.sql', 'conditions': {'idcard_number': '331022193611086982'}, 'yml_path': '', 'expected_rst': '{\"IdcardNb\":\"331022193611086982\"}', 'setUp': ''}"}], "start": 1612262605085, "stop": 1612262606740, "uuid": "c94baa07-e7ab-4ef6-afb5-3b9e547ed72c", "historyId": "b590581fcbed42755629f2da6feb7c51", "testCaseId": "432ee95ba3b45501ea1830dbfc43f730", "fullName": "Cases.TestModel#test_interface_submit", "labels": [{"name": "feature", "value": "档案管理"}, {"name": "story", "value": "个人档案"}, {"name": "parentSuite", "value": "Cases"}, {"name": "suite", "value": "TestModel"}, {"name": "host", "value": "LAPTOP-PMS9NELT"}, {"name": "thread", "value": "18796-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "Cases.TestModel"}]}